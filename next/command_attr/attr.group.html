<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Create a grouping of commands."><title>group in command_attr - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-fbd14db5c88ed452.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="command_attr" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0-nightly (3a8a131e9 2023-04-02)" data-search-js="search-bc5a112813b5d712.js" data-settings-js="settings-f0c5c39777a9a2f6.js" data-settings-css="settings-0bcba95ff279c1db.css" data-theme-light-css="light-db279b6232be9c13.css" data-theme-dark-css="dark-cf923f49f397b216.css" data-theme-ayu-css="ayu-be46fdc453a55015.css" ></div><script src="../static.files/storage-d4a1a279bad1a0c0.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-8e6affb8c73a5ff1.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-db279b6232be9c13.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-cf923f49f397b216.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc attr"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../command_attr/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../command_attr/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In command_attr</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Attribute Macro <a href="index.html">command_attr</a>::<wbr><a class="attr" href="#">group</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/command_attr/lib.rs.html#606-722">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>#[group]</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Create a grouping of commands.</p>
<p>It is a prerequisite for all commands to be assigned under a common group, before they may be
executed by a user.</p>
<p>A group might have one or more <em>prefixes</em> set. This will necessitate for one of the prefixes to
appear before the group’s command. For example, for a general prefix <code>!</code>, a group prefix <code>foo</code>
and a command <code>bar</code>, the invocation would be <code>!foo bar</code>.</p>
<p>It might have some options apply to <em>all</em> of its commands. E.g. guild or dm only.</p>
<p>It may even couple other groups as well.</p>
<p>This group macro purports all of the said purposes above, applied onto a <code>struct</code>:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">use </span>command_attr::{command, group};


<span class="attr">#[command]
</span><span class="kw">fn </span>bar() -&gt; CommandResult {
    <span class="macro">println!</span>(<span class="string">&quot;baz&quot;</span>);

    <span class="prelude-val">Ok</span>(())
}

<span class="attr">#[command]
</span><span class="kw">fn </span>answer_to_life() -&gt; CommandResult {
    <span class="macro">println!</span>(<span class="string">&quot;42&quot;</span>);

    <span class="prelude-val">Ok</span>(())
}

<span class="attr">#[group]
</span><span class="comment">// All sub-groups must own at least one prefix.
</span><span class="attr">#[prefix = <span class="string">&quot;baz&quot;</span>]
#[commands(answer_to_life)]
</span><span class="kw">struct </span>Baz;

<span class="attr">#[group]
#[commands(bar)]
</span><span class="comment">// Case does not matter; the names will be all uppercased.
</span><span class="attr">#[sub_groups(baz)]
</span><span class="kw">struct </span>Foo;</code></pre></div>
<h3 id="options"><a href="#options">Options</a></h3>
<p>These appear after <code>#[group]</code> as a series of attributes:</p>
<div><table><thead><tr><th>Syntax</th><th>Description</th><th>Argument explanation</th></tr></thead><tbody>
<tr><td><code>#[commands(commands)]</code></td><td>Set of commands belonging to this group.</td><td><code>commands</code> is a comma separated list of identifiers referencing functions marked by the <code>#[command]</code> macro</td></tr>
<tr><td><code>#[sub_groups(subs)]</code></td><td>Set of sub groups belonging to this group.</td><td><code>subs</code> is a comma separated list of identifiers referencing structs marked by the <code>#[group]</code> macro</td></tr>
<tr><td><code>#[prefixes(prefs)]</code></td><td>Text that must appear before an invocation of a command of this group may occur.</td><td><code>prefs</code> is a comma separated list of strings</td></tr>
<tr><td><code>#[prefix(pref)]</code></td><td>Assign just a single prefix.</td><td><code>pref</code> is a string</td></tr>
<tr><td><code>#[allowed_roles(roles)]</code></td><td>Set of roles the user must possess</td><td><code>roles</code> is a comma separated list of strings containing role names</td></tr>
<tr><td><code>#[only_in(ctx)]</code></td><td>Which environment the command can be executed in.</td><td><code>ctx</code> is a string with the accepted values <code>guild</code>/<code>guilds</code> and <code>dm</code>/ <code>dms</code> (Direct Message).</td></tr>
<tr><td><code>#[owners_only]</code> <br /> <code>#[owners_only(b)]</code></td><td>If this command is exclusive to owners.</td><td><code>b</code> is a boolean. If no boolean is provided, the value is assumed to be <code>true</code>.</td></tr>
<tr><td><code>#[owner_privilege]</code> <br /> <code>#[owner_privilege(b)]</code></td><td>If owners can bypass certain options.</td><td><code>b</code> is a boolean. If no boolean is provided, the value is assumed to be <code>true</code>.</td></tr>
<tr><td><code>#[help_available]</code> <br /> <code>#[help_available(b)]</code></td><td>If the group should be displayed in the help message.</td><td><code>b</code> is a boolean. If no boolean is provided, the value is assumed to be <code>true</code>.</td></tr>
<tr><td><code>#[checks(identifiers)]</code></td><td>Preconditions that must met before the command’s execution.</td><td><code>identifiers</code> is a comma separated list of identifiers referencing functions marked by the <code>#[check]</code> macro</td></tr>
<tr><td><code>#[required_permissions(perms)]</code></td><td>Set of permissions the user must possess. <br /> In order for this attribute to work, “Presence Intent” and “Server Member Intent” options in bot application must be enabled and all intent flags must be enabled during client creation.</td><td><code>perms</code> is a comma separated list of permission names.<br /> These can be found at <a href="https://discord.com/developers/docs/topics/permissions">Discord’s official documentation</a>.</td></tr>
<tr><td><code>#[default_command(cmd)]</code></td><td>A command to execute if none of the group’s prefixes are given.</td><td><code>cmd</code> is an identifier referencing a function marked by the <code>#[command]</code> macro</td></tr>
<tr><td><code>#[description(desc)]</code> <br /> <code>#[description = desc]</code></td><td>The group’s description or summary.</td><td><code>desc</code> is a string describing the group.</td></tr>
<tr><td><code>#[summary(desc)]</code> <br /> <code>#[summary = desc]</code></td><td>A summary group description displayed when shown multiple groups.</td><td><code>desc</code> is a string summaryly describing the group.</td></tr>
</tbody></table>
</div>
<p>Documentation comments (<code>///</code>) applied onto the struct are interpreted as sugar for the
<code>#[description]</code> option. When more than one application of the option is performed, the text is
delimited by newlines. This mimics the behaviour of regular doc-comments, which are sugar for
the <code>#[doc = &quot;...&quot;]</code> attribute. If you wish to join lines together, however, you have to end
the previous lines with <code>\$</code>.</p>
<p>Similarly to <a href="attr.command.html" title="attr command_attr::command"><code>command</code></a>, this macro generates static instances of the group and its options.
The identifiers of these instances are based off the name of the struct to differentiate this
group from others. This name is given as the default value of the group’s <code>name</code> field, used in
the help command for display and browsing of the group. It may also be passed as an argument to
the macro. For example: <code>#[group(&quot;Banana Phone&quot;)]</code>.</p>
</div></details></section></div></main></body></html>