<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Create a grouping of commands."><meta name="keywords" content="rust, rustlang, rust-lang, group"><title>group in command_attr - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><script defer src="../main.js"></script>
    <noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc attr"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../command_attr/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../command_attr/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location"><a href="index.html">In command_attr</a></h2><div id="sidebar-vars" data-name="group" data-ty="attr" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../command_attr/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Attribute Macro <a href="index.html">command_attr</a>::<wbr><a class="attr" href="#">group</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/command_attr/lib.rs.html#612-728">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust attr"><code>#[group]</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Create a grouping of commands.</p>
<p>It is a prerequisite for all commands to be assigned under a common group,
before they may be executed by a user.</p>
<p>A group might have one or more <em>prefixes</em> set. This will necessitate for
one of the prefixes to appear before the group’s command.
For example, for a general prefix <code>!</code>, a group prefix <code>foo</code> and a command <code>bar</code>,
the invocation would be <code>!foo bar</code>.</p>
<p>It might have some options apply to <em>all</em> of its commands. E.g. guild or dm only.</p>
<p>It may even couple other groups as well.</p>
<p>This group macro purports all of the said purposes above, applied onto a <code>struct</code>:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="kw">use</span> <span class="ident">command_attr</span>::{<span class="ident">command</span>, <span class="ident">group</span>};


<span class="attribute">#[<span class="ident">command</span>]</span>
<span class="kw">fn</span> <span class="ident">bar</span>() -&gt; <span class="ident">CommandResult</span> {
    <span class="macro">println!</span>(<span class="string">&quot;baz&quot;</span>);

    <span class="prelude-val">Ok</span>(())
}

<span class="attribute">#[<span class="ident">command</span>]</span>
<span class="kw">fn</span> <span class="ident">answer_to_life</span>() -&gt; <span class="ident">CommandResult</span> {
    <span class="macro">println!</span>(<span class="string">&quot;42&quot;</span>);

    <span class="prelude-val">Ok</span>(())
}

<span class="attribute">#[<span class="ident">group</span>]</span>
<span class="comment">// All sub-groups must own at least one prefix.</span>
<span class="attribute">#[<span class="ident">prefix</span> <span class="op">=</span> <span class="string">&quot;baz&quot;</span>]</span>
<span class="attribute">#[<span class="ident">commands</span>(<span class="ident">answer_to_life</span>)]</span>
<span class="kw">struct</span> <span class="ident">Baz</span>;

<span class="attribute">#[<span class="ident">group</span>]</span>
<span class="attribute">#[<span class="ident">commands</span>(<span class="ident">bar</span>)]</span>
<span class="comment">// Case does not matter; the names will be all uppercased.</span>
<span class="attribute">#[<span class="ident">sub_groups</span>(<span class="ident">baz</span>)]</span>
<span class="kw">struct</span> <span class="ident">Foo</span>;</code></pre></div>
<h3 id="options"><a href="#options">Options</a></h3>
<p>These appear after <code>#[group]</code> as a series of attributes:</p>
<div><table><thead><tr><th>Syntax</th><th>Description</th><th>Argument explanation</th></tr></thead><tbody>
<tr><td><code>#[commands(commands)]</code></td><td>Set of commands belonging to this group.</td><td><code>commands</code> is a comma separated list of identifiers referencing functions marked by the <code>#[command]</code> macro</td></tr>
<tr><td><code>#[sub_groups(subs)]</code></td><td>Set of sub groups belonging to this group.</td><td><code>subs</code> is a comma separated list of identifiers referencing structs marked by the <code>#[group]</code> macro</td></tr>
<tr><td><code>#[prefixes(prefs)]</code></td><td>Text that must appear   before an invocation of a command of this group may occur.</td><td><code>prefs</code> is a comma separated list of strings</td></tr>
<tr><td><code>#[prefix(pref)]</code></td><td>Assign just a single prefix.</td><td><code>pref</code> is a string</td></tr>
<tr><td><code>#[allowed_roles(roles)]</code></td><td>Set of roles the user must possess</td><td><code>roles</code> is a comma separated list of strings containing role names</td></tr>
<tr><td><code>#[only_in(ctx)]</code></td><td>Which environment the command can be executed in.</td><td><code>ctx</code> is a string with the accepted values <code>guild</code>/<code>guilds</code> and <code>dm</code>/ <code>dms</code> (Direct Message).</td></tr>
<tr><td><code>#[owners_only]</code> </br> <code>#[owners_only(b)]</code></td><td>If this command is exclusive to owners.</td><td><code>b</code> is a boolean. If no boolean is provided, the value is assumed to be <code>true</code>.</td></tr>
<tr><td><code>#[owner_privilege]</code> </br> <code>#[owner_privilege(b)]</code></td><td>If owners can bypass certain options.</td><td><code>b</code> is a boolean. If no boolean is provided, the value is assumed to be <code>true</code>.</td></tr>
<tr><td><code>#[help_available]</code> </br> <code>#[help_available(b)]</code></td><td>If the group should be displayed in the help message.</td><td><code>b</code> is a boolean. If no boolean is provided, the value is assumed to be <code>true</code>.</td></tr>
<tr><td><code>#[checks(identifiers)]</code></td><td>Preconditions that must met before the command’s execution.</td><td><code>identifiers</code> is a comma separated list of identifiers referencing functions marked by the <code>#[check]</code> macro</td></tr>
<tr><td><code>#[required_permissions(perms)]</code></td><td>Set of permissions the user must possess. </br> In order for this attribute to work, “Presence Intent” and “Server Member Intent” options in bot application must be enabled and all intent flags must be enabled during client creation.</td><td><code>perms</code> is a comma separated list of permission names.</br> These can be found at <a href="https://discord.com/developers/docs/topics/permissions">Discord’s official documentation</a>.</td></tr>
<tr><td><code>#[default_command(cmd)]</code></td><td>A command to execute if none of the group’s prefixes are given.</td><td><code>cmd</code> is an identifier referencing a function marked by the <code>#[command]</code> macro</td></tr>
<tr><td><code>#[description(desc)]</code> </br> <code>#[description = desc]</code></td><td>The group’s description or summary.</td><td><code>desc</code> is a string describing the group.</td></tr>
<tr><td><code>#[summary(desc)]</code> </br> <code>#[summary = desc]</code></td><td>A summary group description displayed when shown multiple groups.</td><td><code>desc</code> is a string summaryly describing the group.</td></tr>
</tbody></table>
</div>
<p>Documentation comments (<code>///</code>) applied onto the struct are interpreted as sugar for the
<code>#[description]</code> option. When more than one application of the option is performed,
the text is delimited by newlines. This mimics the behaviour of regular doc-comments,
which are sugar for the <code>#[doc = &quot;...&quot;]</code> attribute. If you wish to join lines together,
however, you have to end the previous lines with <code>\$</code>.</p>
<p>Similarly to <a href="attr.command.html"><code>command</code></a>, this macro generates static instances of the group
and its options. The identifiers of these instances are based off the name of the struct to differentiate
this group from others. This name is given as the default value of the group’s <code>name</code> field,
used in the help command for display and browsing of the group.
It may also be passed as an argument to the macro. For example: <code>#[group(&quot;Banana Phone&quot;)]</code>.</p>
</div></details></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="command_attr" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0-nightly (3c17c84a3 2022-03-21)" ></div>
</body></html>